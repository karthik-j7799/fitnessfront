{"ast":null,"code":"import _slicedToArray from\"E:/project1/main/final/fitnessfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axiosInstance from\"../../baseurl\";import{Link,useNavigate}from\"react-router-dom\";import ViewDocChat from\"./ViewDocChat\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Docchat(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allcustomersfordoc=_useState2[0],setallcustomersfordoc=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),unique=_useState4[0],setunique=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),setid=_useState6[0],setsetid=_useState6[1];var Navigate=useNavigate();useEffect(function(){if(localStorage.getItem(\"Doctorlogid\")==null){Navigate(\"/home\");}},[]);useEffect(function(){axiosInstance.post(\"/ViewPatientstoChat/\".concat(localStorage.getItem(\"Doctorlogid\"))).then(function(res){console.log(res,\"View Customers for doc\");if(res.data.data!=undefined){setallcustomersfordoc(res.data.data);var uniqueNames=new Set(res.data.data.map(function(item){return item.cid.name;}));setunique(uniqueNames);}}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-top\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Customers\"}),/*#__PURE__*/_jsx(\"hr\",{}),Array.from(unique).length?Array.from(unique).map(function(a){var matchingObject=allcustomersfordoc.find(function(item){return item.cid.name===a;});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setsetid(matchingObject.cid._id);},className:\"btn btn-primary\",style:{margin:\"10px\"},children:matchingObject.cid.name})});}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:/*#__PURE__*/_jsx(ViewDocChat,{chatid:setid})})]})})});}export default Docchat;","map":{"version":3,"names":["React","useEffect","useState","axiosInstance","Link","useNavigate","ViewDocChat","Docchat","allcustomersfordoc","setallcustomersfordoc","unique","setunique","setid","setsetid","Navigate","localStorage","getItem","post","then","res","console","log","data","undefined","uniqueNames","Set","map","item","cid","name","catch","err","Array","from","length","a","matchingObject","find","_id","margin"],"sources":["E:/project1/main/final/fitnessfront/src/Components/Profile/Docchat.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axiosInstance from \"../../baseurl\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport ViewDocChat from \"./ViewDocChat\";\r\n\r\nfunction Docchat() {\r\n  const [allcustomersfordoc, setallcustomersfordoc] = useState([]);\r\n  const [unique,setunique] = useState({})\r\n  const [setid, setsetid] = useState(\"\");\r\n  \r\n  const Navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (localStorage.getItem(`Doctorlogid`) == null) {\r\n      Navigate(`/home`);\r\n    }\r\n  },[])\r\n\r\n\r\n  useEffect(() => {\r\n    axiosInstance\r\n      .post(`/ViewPatientstoChat/${localStorage.getItem(\"Doctorlogid\")}`)\r\n      .then((res) => {\r\n        console.log(res, \"View Customers for doc\");\r\n        if (res.data.data != undefined) {\r\n          setallcustomersfordoc(res.data.data)\r\n          const uniqueNames = new Set(res.data.data.map((item) => item.cid.name));\r\n          setunique(uniqueNames)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n \r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container-top\">\r\n  \r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-3\">\r\n            <h1> Customers</h1>\r\n            <hr />\r\n            {Array.from(unique).length\r\n              ? Array.from(unique).map((a) => {\r\n                const matchingObject = allcustomersfordoc.find((item) => item.cid.name === a)\r\n                  return (\r\n                    <div>\r\n                      <button\r\n                        onClick={() => {\r\n                          setsetid(matchingObject.cid._id);\r\n                        }}\r\n                        className=\"btn btn-primary\"\r\n                        style={{ margin: \"10px\" }}\r\n                      >\r\n                        {matchingObject.cid.name}\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n          <div className=\"col-9\">\r\n            <ViewDocChat chatid={setid} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Docchat;\r\n"],"mappings":"yHAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,cAAa,KAAM,eAAe,CACzC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAOC,YAAW,KAAM,eAAe,CAAC,wFAExC,QAASC,QAAO,EAAG,CACjB,cAAoDL,QAAQ,CAAC,EAAE,CAAC,wCAAzDM,kBAAkB,eAAEC,qBAAqB,eAChD,eAA2BP,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAhCQ,MAAM,eAACC,SAAS,eACvB,eAA0BT,QAAQ,CAAC,EAAE,CAAC,yCAA/BU,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9BJ,SAAS,CAAC,UAAM,CACd,GAAIc,YAAY,CAACC,OAAO,eAAe,EAAI,IAAI,CAAE,CAC/CF,QAAQ,SAAS,CACnB,CACF,CAAC,CAAC,EAAE,CAAC,CAGLb,SAAS,CAAC,UAAM,CACdE,aAAa,CACVc,IAAI,+BAAwBF,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,EAAG,CAClEE,IAAI,CAAC,SAACC,GAAG,CAAK,CACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAE,wBAAwB,CAAC,CAC1C,GAAIA,GAAG,CAACG,IAAI,CAACA,IAAI,EAAIC,SAAS,CAAE,CAC9Bd,qBAAqB,CAACU,GAAG,CAACG,IAAI,CAACA,IAAI,CAAC,CACpC,GAAME,YAAW,CAAG,GAAIC,IAAG,CAACN,GAAG,CAACG,IAAI,CAACA,IAAI,CAACI,GAAG,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACC,GAAG,CAACC,IAAI,GAAC,CAAC,CACvElB,SAAS,CAACa,WAAW,CAAC,CACxB,CACF,CAAC,CAAC,CACDM,KAAK,CAAC,SAACC,GAAG,CAAK,CACdX,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC,CAClB,CAAC,CAAC,CAEN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,YAAK,SAAS,CAAC,eAAe,uBAE5B,YAAK,SAAS,CAAC,WAAW,uBACxB,aAAK,SAAS,CAAC,KAAK,wBAClB,aAAK,SAAS,CAAC,OAAO,wBACpB,oBAAI,YAAU,EAAK,cACnB,aAAM,CACLC,KAAK,CAACC,IAAI,CAACvB,MAAM,CAAC,CAACwB,MAAM,CACtBF,KAAK,CAACC,IAAI,CAACvB,MAAM,CAAC,CAACgB,GAAG,CAAC,SAACS,CAAC,CAAK,CAC9B,GAAMC,eAAc,CAAG5B,kBAAkB,CAAC6B,IAAI,CAAC,SAACV,IAAI,QAAKA,KAAI,CAACC,GAAG,CAACC,IAAI,GAAKM,CAAC,GAAC,CAC3E,mBACE,kCACE,eACE,OAAO,CAAE,kBAAM,CACbtB,QAAQ,CAACuB,cAAc,CAACR,GAAG,CAACU,GAAG,CAAC,CAClC,CAAE,CACF,SAAS,CAAC,iBAAiB,CAC3B,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAO,CAAE,UAEzBH,cAAc,CAACR,GAAG,CAACC,IAAI,EACjB,EACL,CAEV,CAAC,CAAC,CACF,IAAI,GACJ,cACN,YAAK,SAAS,CAAC,OAAO,uBACpB,KAAC,WAAW,EAAC,MAAM,CAAEjB,KAAM,EAAG,EAC1B,GACF,EACF,EACF,CAEV,CAEA,cAAeL,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}